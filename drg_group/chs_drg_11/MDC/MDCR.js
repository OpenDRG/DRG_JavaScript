import {putMessage,intersect,SS_VALID} from '../Base.js'
import RA1_group from '../ADRG/RA1.js';
import RA2_group from '../ADRG/RA2.js';
import RA3_group from '../ADRG/RA3.js';
import RA4_group from '../ADRG/RA4.js';
import RB1_group from '../ADRG/RB1.js';
import RB2_group from '../ADRG/RB2.js';
import RC1_group from '../ADRG/RC1.js';
import RD1_group from '../ADRG/RD1.js';
import RE1_group from '../ADRG/RE1.js';
import RG1_group from '../ADRG/RG1.js';
import RR1_group from '../ADRG/RR1.js';
import RS1_group from '../ADRG/RS1.js';
import RS2_group from '../ADRG/RS2.js';
import RT1_group from '../ADRG/RT1.js';
import RT2_group from '../ADRG/RT2.js';
import RU1_group from '../ADRG/RU1.js';
import RV1_group from '../ADRG/RV1.js';
import RW1_group from '../ADRG/RW1.js';
import RW2_group from '../ADRG/RW2.js';

export default function MDCR_group(record){
    let mdc_zd=["C92.000x011","Z51.800x952","C95.900x013+M36.1*","C92.103","C92.102","C92.003","C83.502","C80.902","C85.900","D46.900","D36.700x025","Z51.101","Z51.500x003","C88.301","C95.004","C92.401","C95.000x018","C82.700","C76.800","D47.100x019","C90.000x011","D47.403","C91.704","D48.700x001","D47.900x002","C96.400x004","D46.900x004","C83.802","C92.008","C88.700x012","C96.400","D48.902","Z51.500x001","C95.002","C84.401","D47.402","C85.900x037","C91.102","Z51.800x953","C95.900x012","D47.100x007","D48.715","D48.901","C84.402","D48.900","C88.201","C85.900x015","C85.900x020","C88.202","Z51.800x927","C96.602","C85.900x043","C92.000x012","C85.900x014","C92.000x013","D47.004","C90.300x004","C88.900x001","C91.002","D47.100x004","C96.200x013","C88.900","C92.403","Z51.809","C84.900","C94.200","C96.900","C93.700","C77.300x003","C92.900x001","Z08.800x002","C80.000","C84.500x016","C84.500x004","C79.900x001","C85.900x016","C92.200","C84.600","C86.100","C90.000x026","D46.500","C91.000x007","C49.901","C85.100x017","C95.700x001","C85.100x021","C85.900x023","C92.300x003","C92.100x001","C92.100x016","C92.004","C83.305","Z51.805","C86.603","C86.601","C82.500","D47.101","C83.803","D47.700","C77.900x001","C83.004","C85.200","C77.502","C92.706","C91.008","C83.800x009","D47.703","C86.000","C95.000x002","C91.400","D47.701","C77.503","D46.700x001","C92.701","C83.101","C77.206","C92.000x017","C91.100","C96.400x002","C90.100x011","C90.000x025","C92.100x017","C83.900","C93.104","D47.700x005","D47.200x004+G63.1*","C88.700x003","C90.000x008+M90.6*","C94.703","C92.700x006","C92.502","C78.605","C85.900x039","Z51.000x008","C84.901","C95.000x015","C92.700x013","C95.003","C85.900x004","D47.400","C93.300","Z54.001","C83.301","C92.100x004","C92.800","C92.500x011","C88.302","C85.704","C91.000x016","D48.723","C90.000x033","C92.000x014","D46.901","C77.202","C88.200","C84.700","C81.300","C83.102","C95.000x017","C85.700x016","C96.004","D46.700x003","C84.407","C93.300x001","C93.001","C85.900x019","D47.404","C46.800","C92.005","C92.100","C91.901","C77.500","C95.900x005","C86.300","C77.400x001","C90.000x022","D45.x00","D48.700x015","Z51.800x951","D36.700x021","C90.100x002","C94.400","C92.201","C93.103","C88.700x013","C94.200x011","C93.100","Z51.000x013","C93.000x011","C93.101","D46.100x002","C94.300x011","C96.604","C83.300x006","C94.201","C93.900","C95.000x016","C91.000x015","C81.703","C77.501","C93.100x012","D46.100x012","D47.100x018","Z08.800x001","D36.709","C92.100x011","C92.100x012","Z51.001","C91.100x011","C92.009","D48.700x023","C79.800x818","C96.704","D36.711","D47.200x003","D48.708","C95.900x003+M36.1*","C96.401","D47.100x017","C79.829","D46.100","C90.303","Z51.800x924","C90.100","D36.704","D47.700x007","Z51.800x094","C85.900x005","C96.801","Z51.104","C96.201","C83.306","D47.100x008","C85.900x002","C48.102","C88.700","C92.007","C96.705","D47.002","C76.801","C84.800","C85.705","C92.700","C83.300x007","C96.700","C90.000x021","C90.000","C85.900x041","C88.701","C95.000x118","D46.001","C90.000x041","C91.100x012","C90.000x028","C90.000x009","C92.700x012","C93.002","C83.304","C81.400","C85.707","C93.901","C90.302","C91.401","C77.401","C80.904","C81.200","C81.701","C83.801","C90.000x030","C83.501","Z51.000x003","Z51.102","C79.800x811","C97.x00","C95.000x116","D19.900x001","C90.301","C92.402","C95.900","C84.100","C77.800","C76.700x002","C82.702","C94.700x004","C92.200x001","D46.700","C85.900x013","C82.901","C96.600","C88.000x012","C95.000x003","C96.200","Z51.800x981","C84.400","C91.006","C83.001","D46.700x002","C81.900x005","C84.500","C96.402","C82.703","Z51.800x096","C80.901","C84.000x002","C96.400x003","D47.100x009","C94.000x011","C92.100x014","C90.000x012","Z51.800x097","C80.001","C95.700x003","D47.200","C92.000x018","Z51.002","C85.900x028","C85.900x006","D46.700x006","C46.900x002","C95.000x102","C91.700","C92.900x011","C85.701","C83.503","C90.000x027","C96.202","D47.401","Z51.000x012","D46.700x008","C84.406","C85.900x026","C91.000x009","Z09.200","C90.000x031","C92.400x011","C92.300x001","Z08.700","C91.600","C77.300x001","C94.202","C45.900","C95.700x011","C46.700","C83.000","C91.400x004","Z08.200","C83.302","C91.000x017","C84.502","C90.000x036","C80.905","Z51.100x004","C88.200x012","C92.703","C84.500x012","Z51.811","C94.300","D36.700x023","C90.000x037","C46.900","Z09.100","D09.700x001","Z51.807","D18.106","D46.700x007","C77.300","C85.900x034","C90.000x040","Z51.810","C90.000x039","C77.301","C82.701","C90.200x009","C85.900x030","C92.100x018","C85.900x031","C85.901","C88.401","C92.000","Z08.100","Z51.800x922","D36.710","C90.000x032","C85.900x010","C91.800","C91.007","C92.100x002","C46.900x003","C84.405","D48.722","C91.004","D46.200","C85.900x009","C94.400x001","D36.700x028","C91.300","C46.900x004","C86.500","C83.300x009","C95.006","C90.001","C85.900x027","C83.504","C82.100","C85.900x036","C92.000x015","C91.000x012","C79.800x862","C91.000","Z51.800x983","Z51.200x008","C91.400x013","C92.006","C88.203","C96.002","D36.705","C90.300x003","D47.300","C95.901","C92.200x011","C45.706","Z51.808","C77.200","C92.000x006","C91.101","C88.402","D48.707","C79.800x804","D47.900x001","C83.500","C85.900x003","D48.716","C92.600","C93.100x013","C92.000x016","C90.200x008","C94.600","C85.900x022","C85.900x038","C85.900x017","C91.500","C82.704","D47.100","C86.400","C88.300","Z51.003","C88.403","C76.305","C76.101","D46.400","D47.500","C90.300x001","C91.000x006","C96.400x001","C91.000x014","Z08.000","C92.601","D47.001","C92.002","Q85.802","C83.702","D36.700x016","C85.709","D46.600","Z51.103","C79.900","C83.505","D47.700x006","D46.900x002","C91.500x011","C91.900","C82.300","C88.000","C83.800","C90.000x004","C83.703","C88.700x002","C76.300","C84.000x003","Z51.800x092","C96.601","C88.200x011","C90.000x035","C95.700x002","C94.702","C84.000","C81.100","C83.300x008","C93.000x016","C95.100x011","D47.702","C90.000x024","C88.000x002","C96.200x005","C92.300","C95.000x101","C91.000x013","C90.002","C85.900x011","C92.300x013","C85.700x004","D18.109","C83.303","C85.700","C76.200x002","C94.000x001","C77.900","C92.101","C82.000","C96.000","C80.900","C83.003","C85.900x012","C84.400x001","Z08.800x004","C92.000x003","Q85.909","C78.604","C94.700x014","C76.306","D47.900","C85.900x025","C76.700","Z08.800x003","C85.100","C96.603","C83.800x008","C94.001","C84.601","C46.300","C96.500","C90.000x005","C81.900","C90.200","C85.900x040","C83.100","C82.600","D18.105","C95.000x117","C92.001","C80.000x001","C94.700","D36.700x011","C83.300","C82.400","C92.100x019","C45.100x005","D46.201x001","C90.200x013","D46.900x006","C81.702","C85.900x008","C88.000x011","C96.403","Z51.800x925","Z08.900","C94.004","C48.101","D09.900","C82.903","Z51.806","C79.800x837","C45.103","C95.900x015","C81.700","D46.203","Z51.800x921","Z51.801","C91.003","C86.602","C96.501","C85.100x010","C83.307","Z51.800x095","C90.300x002","Z51.802","C85.715","C95.100","C90.300","C90.000x023","C83.800x006","C83.002","C93.003","C93.701","D36.700x012","C77.107","D89.801","C92.501","C97.x01","D47.200x005+G63.1*","C96.800","C84.403","C81.000","C82.900","C85.900x001","C92.300x011","C86.200","C95.100x012","Z51.804","C91.001","C85.900x024","D19.700","C95.000","C90.000x034","C76.302","C86.600","C92.901","C79.826","D09.700","C83.700","C95.000x115","C93.100x011","C92.900","D47.003","C80.903","C85.900x042","Z51.500x002","C79.800x816","C91.701","C95.005","C79.811","C82.200","C77.205","C90.000x038","D48.725","D47.000","C93.102","C90.000x014","C96.502","C77.303","C88.400","C84.404","C90.000x029","C85.900x029","C77.302"];
    let dept_list=[];
    if (!(true && mdc_zd.includes(record.zdList[0]))){
        return '';
    }
    
    putMessage('符合MDCR入组条件，匹配规则：主诊断匹配');
    let result;

    if (result=RA1_group(record)){
        return result;
    }

    if (result=RA2_group(record)){
        return result;
    }

    if (result=RA3_group(record)){
        return result;
    }

    if (result=RA4_group(record)){
        return result;
    }

    if (result=RB1_group(record)){
        return result;
    }

    if (result=RB2_group(record)){
        return result;
    }

    if (result=RC1_group(record)){
        return result;
    }

    if (result=RD1_group(record)){
        return result;
    }

    if (result=RE1_group(record)){
        return result;
    }

    if (result=RG1_group(record)){
        return result;
    }

    if (false && record.ssList && intersect(SS_VALID,record.ssList)){
        putMessage('符合RQY入组条件，存在有效手术操作：'+record.ssList.filter(x=>SS_VALID.includes(x)).join(','));
        return 'RQY';
    }

    if (result=RR1_group(record)){
        return result;
    }

    if (result=RS1_group(record)){
        return result;
    }

    if (result=RS2_group(record)){
        return result;
    }

    if (result=RT1_group(record)){
        return result;
    }

    if (result=RT2_group(record)){
        return result;
    }

    if (result=RU1_group(record)){
        return result;
    }

    if (result=RV1_group(record)){
        return result;
    }

    if (result=RW1_group(record)){
        return result;
    }

    if (result=RW2_group(record)){
        return result;
    }
 
    putMessage('不符合MDCA的ADRG入组条件');
}
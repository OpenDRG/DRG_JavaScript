import {putMessage,intersect,SS_VALID} from '../Base.js'
import EB1_group from '../ADRG/EB1.js';
import EB2_group from '../ADRG/EB2.js';
import EC1_group from '../ADRG/EC1.js';
import EC2_group from '../ADRG/EC2.js';
import ED1_group from '../ADRG/ED1.js';
import EJ1_group from '../ADRG/EJ1.js';
import ER1_group from '../ADRG/ER1.js';
import ER2_group from '../ADRG/ER2.js';
import ER3_group from '../ADRG/ER3.js';
import ES1_group from '../ADRG/ES1.js';
import ES2_group from '../ADRG/ES2.js';
import ES3_group from '../ADRG/ES3.js';
import ET1_group from '../ADRG/ET1.js';
import ET2_group from '../ADRG/ET2.js';
import EU1_group from '../ADRG/EU1.js';
import EV1_group from '../ADRG/EV1.js';
import EW1_group from '../ADRG/EW1.js';
import EX1_group from '../ADRG/EX1.js';
import EX2_group from '../ADRG/EX2.js';
import EZ1_group from '../ADRG/EZ1.js';

export default function MDCE_group(record){
    let mdc_zd=["B38.000x001+J17.2*","C34.000","J84.100x006","J43.100","J84.800x004","J80.x00","Q85.900x015","A19.000","C34.901","J98.507","Q89.800x910","T17.804","D17.400x002","J11.100x005","J46.x00x006","J95.800x010","I26.900x001","J18.000x002","C34.900x001","T85.700x804","A15.508","A16.405","A15.602","A37.900x003","E85.407","J60.x00x002","J21.100","R06.801","I26.902","S27.812","A15.500x019","A15.500x011","S24.200","J10.100x005","B40.000","J63.000x001","A16.022","J63.500","A16.305","B39.200x001+J17.2*","I28.800x010","J18.901","E32.002","J63.301","Q33.000","I26.900x003","R09.201","S27.710","A16.108","A06.501+J99.8*","A15.000x016","C34.100x003","R84.100","C34.802","J67.400x002","J44.900x004","J98.000x012","J98.802","D14.301","A16.300x002","J40.x00x002","J45.900x001","J62.800x002","R09.300","D38.102","J98.401","J98.400x008","J66.100","J63.800x016","J84.801","J98.602","A37.000","B45.000x002+J99.8*","J98.402","S29.900","R04.802","J15.000x002","J95.800x009","A15.405","J98.007","A16.803","I89.800x018","R06.000x003","J15.903","S27.501","J39.807","J98.408","J86.002","A16.101","A15.000x026","A16.016","A16.011","I89.800x017","J67.700x002","J63.800x005","J68.800","J10.000x001","J98.400x013","B37.800x083","J44.806","D38.101","D18.100x025","R06.000x002","T81.400x009","I26.900x017","J63.800x011","B49.x13","J68.002","A16.008","J95.800x016","R06.803","A15.000x002","B42.000+J99.8*","R06.200","A15.001","J98.400x005","A15.805","A15.814","A15.105","A19.000x009","E83.104+J99.8*","A19.000x005","J18.801","B38.200x001+J17.2*","J43.200","J98.009","J94.901","B44.000x001+J99.8*","J43.101","A16.400x011","J98.502","J98.800x016","R09.101","B45.000","A19.000x016","B33.400x001+J17.1*","A16.029","A16.027","R91.x00x005","S27.804","J09.x00","A16.109","D38.300x003","D38.300x002","J61.x00x001","B49.x00x011","J44.900x003","A19.001","D18.100x015","J43.000","J98.415","Q33.002","J15.901","R09.100","R84.300","M33.901+J99.1*","A16.500x008","Q79.102","J67.700x001","T27.700","A16.025","J98.006","J94.200","J86.018","J98.005","J86.005","A16.105","D38.100x001","J43.902","I26.900x006","J86.004","I88.107","C34.000x003","A16.900x023","J98.414","J84.108","J45.002","J98.004","J21.801","J62.800x008","T17.803","J18.100","J63.800x019","J95.100","J96.100","J45.900x012","Q34.100","A16.030","A15.000x003","A16.103","J86.008","T17.900","C78.100","A19.801","D86.200","A16.021","R06.802","T17.501","E32.001","J18.800x004","C33.x00","R93.804","J93.100x002","J21.901","J43.800x001","C79.800x809","J84.900","A16.302","J86.014","S27.410","J60.x00","J98.403","J18.800x012","C76.100","J41.100","J66.800","A15.000x022","M33.103+J99.1*","I26.900x007","J94.807","S27.301","I26.900x010","J81.x00x002","A22.102+J17.0*","A37.901+J17.0*","A19.000x019","A15.500x020","D38.401","A01.000x005+J17.0*","B38.100x001+J17.2*","A16.500x001","C34.301","C77.105","J95.808","J98.008","M35.904+J99.1*","A16.500x009","J98.410","A15.503","J86.000x013","A16.304","R06.800x005","I89.800x007","C39.900x001","E32.800x005","J09.x01","A52.704+J99.8*","J95.800x021","A15.302","J67.800x005","A54.806+J17.0*","A16.013","A16.805","A19.000x002","J96.900x003","A15.608","A16.020","J70.800","C34.300x004","C45.700","J45.000x003","J47.x00","J62.800x003","J44.802","J42.x00","J46.x00x008","R84.200","J15.800x002","A15.100x009","A15.307","A16.700x002","J84.800x008","C34.800","J16.000","J64.x00","R09.200","A16.800x003","S27.200","D86.000","D36.717","S27.110","A15.500x027","R84.500","S27.401","J98.416","A15.100x011","J86.000x012","S27.807","J39.802","A16.009","J63.800x015","R06.300","R09.100x002","J44.801","J20.902","J98.600x001","A15.000x010","J67.800x002","I26.900x005","J98.901","C34.800x003","A16.036","J45.900x031","A15.306","J98.102","Q32.401","J84.102","A37.800x001","J98.418","J86.000x006","A15.811","Q33.800x001","A16.031","A16.205","D15.200","J18.902","J45.900x011","S27.610","A19.000x006","J63.803","J92.000","M31.304+J99.1*","J84.101","M35.002+J99.1*","B44.101+J99.8*","J90.x02","R06.301","A16.100x001","R93.801","A15.813","T85.608","A15.701","A16.400x010","A16.900x001","J70.001","B37.100","J93.900","J43.903","J86.901","J96.000","A19.000x008","C77.102","J15.101","J98.000x013","A15.204","J63.201","J98.411","Q32.400x004","U07.100x003","A15.606","J39.805","I89.800x016","J67.800x004","J98.500x001","D21.302","A36.201","J98.800x009","A15.901","A15.301","A15.300x001","J63.800x009","J62.803","D18.100x026","A16.007","C49.300x001","A16.301","I88.900x008","J15.601","A19.803","I26.900x009","J44.100","J45.003","J47.x02","J67.200x002","J98.700","D14.300x001","J44.000","A16.201","A16.500x010","J40.x00","J82.x00x005","J84.002","J84.802","A21.201+J17.0*","A15.506","J66.000","M05.100+J99.0*","C38.400","B49.x14+J99.8*","S29.800","T79.800x007","B44.102+J17.2*","I89.000x027","Q32.300","J60.x00x004","A43.000x001+J99.8*","J61.x01","A15.103","C34.800x001","A16.501","J84.803","R94.201","Q33.500","J39.808","R09.800x093","C45.701","A16.401","A37.100","A15.000x012","A15.601","B40.100","J10.001","J63.300x003","J63.800x022","J85.100","J86.011","R04.800x004","A15.803","J84.105","A16.403","T84.200x004","J15.902","J60.x01","S27.801","A16.801","A16.802","I26.900x002","M34.801+J99.1*","A15.604","J16.800x001","T17.400","T27.200x001","A19.000x003","J45.903","C45.000","J98.010","R04.900","A15.500x026","T27.300","S27.000","C49.300x003","J65.x00","A15.304","R94.200","J43.900x001","S28.000","A15.000x001","U07.100x002","A15.100x001","A15.402","I89.800x021","E85.412+J99.8*","J69.001","R84.400","B25.000+J17.1*","D15.900","A16.406","J10.000","J45.000","A19.000x011","J84.800x003","C78.001","J66.200","A19.000x015","A19.000x010","B38.000","J15.600x002","J12.900","J15.400","J67.300","A15.203","J95.800x004","J98.800x007","J70.300","J15.402","J13.x00","D17.700x019","A15.101","A19.000x012","C78.000","D36.706","J18.002","J85.300","Q33.400","S25.401","C77.101","J68.000x001","E89.802","J18.802","S28.100","A02.201+J17.0*","Q32.102","A16.210","J86.015","Q33.003","S27.400","B46.000x001+J99.8*","J63.800x021","J18.800x001","C34.803","J60.x00x003","J45.007","J62.800x007","J98.300","A15.201","A16.012","A16.104","D15.701","J63.400","J85.200","A15.702","J45.100","J86.020","Q33.800x002","R06.000","S27.310","J98.601","D17.400x001","J98.000x009","J82.x01","D17.400x005","J12.200","A15.810","A16.804","I26.900x008","A15.607","C34.900x005","A15.207","C38.400x003","M33.001+J99.1*","J98.001","B65.907+I52.1*","A16.303","J12.300","A15.703","C77.104","C78.201","E32.000x003","A15.100x004","J22.x00","J63.802","J67.000","J98.500x007","J43.900","J94.101","A15.500x022","A16.800x002","J39.801","A16.300x007","J94.805","A15.609","A15.603","A15.807","J98.400x001","E32.100","R09.000","S27.010","J43.000x003","R93.805","J98.501","J09.x02","J15.200","J84.104","J45.100x002","J95.810","J14.x00","A15.206","C79.807","D38.200x001","R91.x00x001","J95.811","J20.500","J98.506","J82.x00x004","B48.500+J17.2*","J68.900","I26.900x011","A15.500x014","S27.810","E85.404","E32.900","J20.400","J98.407","S27.300x012","D14.302","D17.400x004","J86.010","Q33.301","Q79.103","U07.100x001","T86.800x011","A15.500x024","A15.804","J69.000","J68.101","J86.006","A16.001","A15.403","D17.700x023","J43.001","E32.800x004","A19.000x007","D38.600x001","J60.x00x005","J63.800x012","J86.007","M32.103+J99.1*","J84.804","A16.900x003","B37.101+J17.2*","J86.001","J85.002","A15.500x018","A15.100x003","J39.806","J15.600x003","J45.005","A16.200x012","D38.100x003","J95.802","A15.812","J98.800x014","J44.807","J93.003","A15.002","Q32.400x005","J68.001","J98.801","J98.011","J18.903","B38.200","R05.x02","B40.200","D02.100","E32.802","R06.100","D48.709","C38.200","A15.104","J46.x00x009","A06.500x002+J99.8*","M31.300x002","J63.000","J67.600","C34.300x003","J18.200","J68.201","R84.903","J20.800","A15.509","B77.801+J17.3*","J42.x00x001","J42.x00x003","J42.x00x004","C38.300","D18.105","U04.900","A15.809","J62.000x001","U07.000","J45.000x001","J44.800x001","A19.000x018","I89.000x016","R91.x04","A15.100x007","A15.500x017","J61.x00x003","S27.210","J44.900x002","J86.903","A15.007","A16.032","J45.800","S27.302","Z03.800x001","J67.600x001","A15.802","A16.500x004","D38.300x001","J20.000","J43.904","J62.000x002","J62.800x005","A16.005","A15.500x023","J95.401","I89.807","J63.800x010","Q79.000","A15.504","A15.507","S27.312","A16.106","B06.801+J17.1*","A16.015","A15.000x028","D14.400","A16.000x001","D15.200x002","E32.000","R09.800x092","J70.200","J84.103","Q34.900","J18.001","A15.100x002","D38.103","J67.800x001","G47.300x034","J39.810","J63.800x025","J98.002","R84.904","A15.500x025","D14.200","A16.204","J41.000","J92.900x002","Q33.600","J94.800x004","A15.004","A15.500x016","J47.x01","J63.800","J95.200","Q89.209","A16.023","D17.400","M05.101+J99.0*","J90.x00x004","J70.200x002","Q33.200","R09.800x094","C78.003","J86.017","J63.800x003","R06.805","S27.700","D36.700x008","Q34.000","A16.504","B41.000","J45.901","D19.000","T86.803","C38.401","A15.107","A15.100x006","S27.910","A15.500x012","J86.016","J12.000","A15.500x003","J84.800x007","D36.700x013","J63.801","A16.700x001","C78.002","C78.306","J41.800","J63.800x001","B39.000x001+J17.2*","J43.901","J18.900","Q32.400x002","J67.800x003","S27.800x013","J45.900x023","C37.x00","S27.600","I00.x00x007+J17.8*","J63.000x003","S27.803","T17.500","J15.100","R06.806","J44.900x005","M05.103+J99.0*","A15.501","J69.100x001","R59.009","A15.205","S27.313","I88.106","J98.100","J63.800x023","J70.900","J62.800x006","J69.800x001","J98.800x018","J86.013","A19.000x014","J63.800x026","M33.201+J99.1*","A16.200x013","A15.900","J46.x02","J69.101","A15.003","S27.500","I26.900x013","A15.200x002","J20.900","A16.102","J12.100","J62.804","J98.400x016","J80.x01","J42.x01","Q32.200","A15.409","J98.200","J98.409","D17.400x003","E32.800x001","E32.801","Q79.101","C38.800","C46.701","C77.103","I26.901","Q33.900","C34.900x008","A16.200x015","A16.200x014","I97.800x018","A19.000x020","D38.601","M34.800x001+J99.1*","A16.806","T17.901","R84.600","J67.100","R84.800","J86.009","J18.000","J81.x00","D38.201","J94.801","A15.408","J70.101","R91.x03","A15.200x001","J94.802","A16.038","J98.405","J63.001","J98.503","C34.800x002","A15.305","B39.000","J18.000x001","J98.800x006","J39.804","J62.800x004","J98.800x003","A15.505","I26.900x016","A16.202","A19.800","A16.200x007","J20.901","J45.006","J86.000","B39.100x001+J17.2*","J40.x01","J94.804","J15.700","A15.800x001","D38.100x002","J45.004","A15.106","B58.300+J17.3*","J62.802","A16.006","Q85.901","R09.800x091","A16.207","B37.803","I26.900x018","J95.800x012","A15.005","A15.500x010","J11.000x001","J46.x00x010","J98.413","J15.500","J12.800","J18.803","D38.400x001","J84.100x008","J15.602","R04.800x002","A16.034","C39.800","I89.804","J45.900x041","J84.000x003","A15.000x024","D15.000","J67.200x003","A16.026","J15.600x005","J84.001","R06.600","D48.115","A15.000x018","R94.202","R04.200","A16.000x002","C34.902","C76.100x003","E85.400x005","J62.000x003","J90.x00x003","J63.100","I89.000x028","J15.600x006","A15.102","A16.014","A37.900","E84.001","J20.200","J44.805","A19.000x013","A15.400x001","T27.600x001","J98.000x011","D15.200x001","A15.006","A15.605","R05.x00","J45.900x021","A15.401","J84.109","J93.100x001","A15.500x015","A16.900x002","A16.107","D15.700","D18.000x800","A15.808","I89.800x023","J42.x00x005","J45.900","J98.412","S27.806","C34.900x004","S27.100","J84.110","A16.002","A15.407","R09.800x095","J90.x00","C79.800x829","I89.000x029","S27.811","J46.x01","J84.805","R84.700","J90.x00x005","J95.300","R06.400","C78.200","A15.100x008","J98.505","R09.801","B48.501+J17.2*","J18.800x006","A37.900x004","D02.200x002","I88.900x002","A19.000x001","C34.000x002","J15.000","J92.901","J68.400","B38.100","A15.500x004","A16.400x005","I89.800x002","B66.401+J99.8*","J20.100","J96.900x001","S27.510","J84.100x007","J21.900","J93.800x001","J45.100x003","B01.200+J17.1*","B67.100x001+J99.8*","A15.404","M31.302+J99.1*","J98.003","J86.019","J84.800x006","J63.800x020","S29.700","J63.200","J98.800x004","J68.301","T17.802","Q85.904","J45.902","A15.000x014","J44.803","A15.500x021","B39.200","J45.900x002","J90.x00x002","A15.406","J15.900","J46.x00x003","J94.800x010","J39.803","A16.024","A16.203","J62.001","A16.010","D18.000x857","J20.600","R06.804","A15.500x029","J20.700","A16.017","I89.003","B05.200+J17.1*","A15.806","C79.800x838","D02.201","J85.001","Q32.402","J63.800x017","D38.105","J86.003","J98.800x001","A15.303","A15.500x013","C79.810","C77.100x004","D48.700x019","R05.x01","J98.508","A19.000x004","D02.400","C78.000x003","J42.x00x006","C49.302","J63.800x018","S27.805","D38.301","C78.304","J86.902","Q33.100","A16.003","J85.000x002","R91.x01","A16.503","A16.028","A16.807","C34.001","A16.200x002","M05.102+J99.0*","S27.802","J98.500x008","J86.012","S27.303","A15.000x020","J95.804","A16.004","C34.100x004","J69.000x004","R94.204","S27.900","J96.900x002","J15.300","A15.502","J98.400x012","A16.300x003","J94.201","D18.011","R84.000","T17.801","J90.x01","S27.311","D18.000x814","C38.100","I26.900x012","J98.101","A16.505","A06.500+J99.8*","C45.702","I26.900x015","J67.200","S27.808","J68.000x002","J63.300x001","Q85.908","J98.404","A19.000x017","D38.104","J21.900x002","A06.502+J17.3*","J69.000x002","C34.900x006","A15.500x002","A16.035","J63.800x013","A15.100x005","J95.801","A16.019","J84.800x005","J94.800x003","J98.417","C77.100","J82.x00x002","J63.300x002","B39.100","B48.502+J17.2*","C34.101","A16.402","D48.710","J62.801","J67.500","J21.000","J46.x00x002","A15.500x001","J70.400","C34.102","A16.033","J82.x00x001","A15.202","J67.400","J95.900","A16.037","A19.802","A16.018","J61.x00x002","J63.000x002","J45.900x013","J67.900","A15.801","J94.806","A16.206","J98.400x019","J63.800x014","A15.100x010","J15.800x001","B65.902+J99.8*","A15.500x028","J63.800x024","J47.x03","J98.504","J18.800x002","J44.900","B06.800","J94.900x001","J98.201","C34.201","J20.300","C34.801"];
    let dept_list=[];
    if (!(true && mdc_zd.includes(record.zdList[0]))){
        return '';
    }
    
    putMessage('符合MDCE入组条件，匹配规则：主诊断匹配');
    let result;

    if (result=EB1_group(record)){
        return result;
    }

    if (result=EB2_group(record)){
        return result;
    }

    if (result=EC1_group(record)){
        return result;
    }

    if (result=EC2_group(record)){
        return result;
    }

    if (result=ED1_group(record)){
        return result;
    }

    if (result=EJ1_group(record)){
        return result;
    }

    if (false && record.ssList && intersect(SS_VALID,record.ssList)){
        putMessage('符合EQY入组条件，存在有效手术操作：'+record.ssList.filter(x=>SS_VALID.includes(x)).join(','));
        return 'EQY';
    }

    if (result=ER1_group(record)){
        return result;
    }

    if (result=ER2_group(record)){
        return result;
    }

    if (result=ER3_group(record)){
        return result;
    }

    if (result=ES1_group(record)){
        return result;
    }

    if (result=ES2_group(record)){
        return result;
    }

    if (result=ES3_group(record)){
        return result;
    }

    if (result=ET1_group(record)){
        return result;
    }

    if (result=ET2_group(record)){
        return result;
    }

    if (result=EU1_group(record)){
        return result;
    }

    if (result=EV1_group(record)){
        return result;
    }

    if (result=EW1_group(record)){
        return result;
    }

    if (result=EX1_group(record)){
        return result;
    }

    if (result=EX2_group(record)){
        return result;
    }

    if (result=EZ1_group(record)){
        return result;
    }
 
    putMessage('不符合MDCA的ADRG入组条件');
}
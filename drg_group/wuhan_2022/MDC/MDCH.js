import {putMessage,intersect,SS_VALID} from '../Base.js'
import HB1_group from '../ADRG/HB1.js';
import HC1_group from '../ADRG/HC1.js';
import HC2_group from '../ADRG/HC2.js';
import HC3_group from '../ADRG/HC3.js';
import HC4_group from '../ADRG/HC4.js';
import HJ1_group from '../ADRG/HJ1.js';
import HK1_group from '../ADRG/HK1.js';
import HL1_group from '../ADRG/HL1.js';
import HL2_group from '../ADRG/HL2.js';
import HR1_group from '../ADRG/HR1.js';
import HS1_group from '../ADRG/HS1.js';
import HS2_group from '../ADRG/HS2.js';
import HS3_group from '../ADRG/HS3.js';
import HT1_group from '../ADRG/HT1.js';
import HU1_group from '../ADRG/HU1.js';
import HZ1_group from '../ADRG/HZ1.js';
import HZ2_group from '../ADRG/HZ2.js';
import HZ3_group from '../ADRG/HZ3.js';

export default function MDCH_group(record){
    let mdc_zd=["Q44.100x003","K71.100x008","K72.000x013","C78.700","K85.813","S36.110","B17.200","Q44.600","K80.801","K86.100x002","C25.200","D13.500x003","K76.810","K70.403","K85.801","B15.901","R16.200x001","S36.101","K70.402","K70.100","R93.203","K74.300","C24.900","K86.100x001","C25.802","B66.300","A18.816+K87.0*","R16.000x001","R17.901","K70.300","K86.105","B44.803","R93.201","T86.400x004","K70.000","K83.104","K86.102","K86.106","K91.807","K86.814","B18.800x005","K82.400","D37.705","K71.100x005","K74.618+I98.3*","S36.200x092","K85.300","K74.602","K92.800x010","K83.307","C24.101","K72.004","K85.900x002","K82.000","K85.002","K80.002","B16.904","K83.000","B16.100","K74.301+I98.2*","K75.901","K73.100","K80.101","K72.900x001","K73.200x002","K74.600x003","C22.301","C24.000x007","S36.202","K72.003","K85.817","B16.901","Q45.002","K76.700","K82.806","K80.202","K74.300x005+I98.2*","K75.401","K71.600","D13.700x001","K81.900","B18.100x007","Q44.100x002","K76.400","B18.800x001","T85.800x802","K86.808","K83.817","S36.111","C45.704","K80.302","Q45.301","B19.001","D37.601","S36.100x031","B54.x00x003+K77.0*","K76.815","K83.018","C24.800","E85.415+K77.8*","K83.108","Q44.700x004","B18.200","K82.808","K83.010","B17.101","K83.401","I72.809","K81.100","K85.800x003","Q44.705","K74.600x034","K85.102","E80.500","K91.840","B16.000x001","B18.900","K70.303+I98.2*","C22.900","K76.800x006","K76.805","K70.305+I98.3*","K75.003","K83.019","I87.803","K82.300","K86.100x004","B16.100x004","K86.813","Q44.701","K71.100x007","Q44.501","K70.901","K80.500x002","K82.101","B18.100","K85.200","D01.500x001","K83.800x022","B18.801","K71.701","K81.900x001","B66.902","B17.100x003","C24.002","K72.100","Q44.400","K85.302","K74.600x010","Q45.300x901","K91.800x304","Q44.001","B18.903","R17.900x001","K83.808","B65.900x004+K77.0*","B18.201","T86.400x018","C24.100","K76.813","K85.100","R93.205","C24.004","K75.806","K85.822","K86.800x002","K74.608","Q44.505","Q44.500x005","K83.816","B18.803","B65.903+K77.0*","C25.701","D13.600","K76.600x007","T86.800x021","K76.801","K74.600x036","K75.801","A01.001+K77.0*","K82.001","K71.900","K74.300x006+I98.3*","K76.806","D13.401","K80.500x001","K85.816","K83.804","C78.806","K80.402","K81.006","K82.900x002","B17.800x001","B17.800x003","K75.000x003","A01.000x014","K83.012","K74.600x030","B19.002","K81.008","K82.807","K82.302","D01.700","B17.205","Q44.500x006","Q27.805","K76.800x022","B16.903","A18.817+K87.1*","K83.102","I72.800x072","K83.802","B17.900","K80.400","K83.818","K80.400x004","K76.819","Q45.200","B77.800x002","K83.813","K83.015","K86.815","C78.807","K83.902","C24.001","K71.101","K83.400x001","D37.700x003","K83.502","K85.202","K85.814","A50.000x002+K77.0*","K76.800x003","K76.817","K83.805","K74.600x002","K85.101","K86.802","K91.800x402","D37.603","B18.902","S36.200x091","K74.200","B16.204","Z52.600x001","K76.803","K91.806","K74.600x021","K71.104","Q44.700x003","E80.602","K91.800x411","Q44.200x003","K74.605","K71.200x001","S36.100x013","K83.303","K85.901","K76.300","B16.101","K86.809","B77.800x005","K81.000x008","K75.300","K76.601","K82.200","B17.803","B77.803","K76.811","K85.000","S36.100x041","K83.007","C77.204","K74.603","C22.400","M35.003+K77.8*","Q45.300x902","K80.800x001","K83.815","K71.100","D13.400","K71.700","T86.400x003","K83.101","K75.001","K83.100x001","Q44.300","T86.401","A52.700x007+K77.0*","I77.000x017","K83.011","K70.400x002","Q45.003","I87.108","S36.200","K71.002","D37.706","K70.401","D01.502","K74.614","S36.103","K76.800x026","Q27.804","K74.600x041","B18.804","K72.902","K83.014","T86.400x011","K74.600x031","B67.500x001+K77.0*","K83.814","K82.305","Q44.200","K83.807","S36.100x011","K83.103","Q44.003","C22.300","K91.823","D01.501","K74.612","K71.702","B18.900x006","I74.800x016","B17.801","K80.300x002","B17.103","I74.803","Q44.702","K83.004","E80.601","K86.800x001","K76.800x021","K76.102","K82.000x003","S36.200x031","C25.100","B26.300+K87.1*","K85.900x003","K86.000","K91.841","K83.100x008","B16.001","K71.000x002","K74.613","K83.105","B17.200x004","K83.017","K76.600x002","K82.803","K83.803","K80.501","D37.604","K82.304","T86.400x017","B25.101+K77.0*","K83.501","E80.501","K83.810","K83.300","B17.904","K70.301+I98.2*","K80.301","B45.800x001","Q85.900x044","K76.101","K85.802","B17.203","Q45.100","K80.200x003","K76.602","K76.200","K86.107","I86.808","K74.615+I98.3*","S36.100x051","B15.902","K82.303","K91.822","K80.200x001","R93.200x002","B17.900x002","K71.901","B17.902","K72.001","K83.107","T86.804","K81.002","K83.009","K76.800x023","R93.200x001","B17.200x005","K76.808","T86.400x012","B18.802","Q44.502","B66.800x007","D37.600x001","K72.000x005","K73.801","K91.826","K75.002","K75.400","B17.900x006","K80.303","K91.500","B18.805","K72.005","C78.808","B15.001","B18.001","K81.801","B00.803+K77.0*","K80.203","K82.800x002","K71.601","A51.400x008+K77.0*","Q44.601","T82.813","I87.121","K85.800x002","E80.600x005","K71.100x006","K82.200x002","K82.800x009","K65.007","K80.406","K81.007","K83.106","B19.000","R94.500","B17.800x002","K74.000","K82.306","C22.101","K72.000x004","B00.802+K77.0*","C25.801","K91.800x403","K91.825","Q27.800x004","K74.610","B18.800x004","C25.900","T86.400x001","I77.100x011","K73.000x001","K74.600","K80.201","B66.300x001","T86.400x014","S36.200x021","K91.800x407","S36.200x011","K75.803","T86.400x005","K86.804","B16.203","B18.204","K86.104","I87.109","Q44.504","C22.001","B16.100x003","K74.600x027","A06.400+K77.0*","Q44.002","K86.812","A52.705+K77.0*","K91.827","S36.112","I86.809","B26.802+K77.0*","K71.103","K74.600x042","B65.904+I98.2*","C22.700","M32.108+K77.8*","K83.809","K83.302","K86.901","K76.800x009","B18.105","K76.800x015","K85.902","K71.902+I98.2*","D18.000x031","K76.401","D13.501","A18.814+K77.0*","K71.500x002","K85.815","Q45.001","B77.800x004","S36.200x001","E80.600x007","B16.100x002","K80.100x001","T86.400x009","B67.800x001+K77.0*","K85.808","C25.803","B19.900","K74.600x029","K81.003","K80.507","C25.000","K85.900","D37.600x003","K76.500x002","K74.611","K75.800x006","E80.603","K76.814","Q44.101","I82.000x001","C22.100","K83.306","I74.804","B65.202+K77.0*","K83.820","K82.801","Q44.201","Q44.500x007","C25.800x001","B18.200x009","K74.604","B83.800x003","K81.005","B18.002","K91.800x301","K76.500x001","K86.811","B17.900x005","B18.004","K76.818","D13.701","K71.400x001","C22.000","K72.002","C24.000","K70.306+I98.3*","K76.800x007","B17.100x006","B15.900","C22.200","K85.809","K86.805","K91.800x401","B15.000","K86.800x013","K80.506","B17.202","K75.810","K83.109","B18.203","K85.818","A18.815+K87.0*","K80.305","K80.001","K70.201","K71.100x003","K80.503","Q85.900x019","K83.811","K80.403","K86.818","B17.000","B67.000x001+K77.0*","B18.106","K83.008","S36.100x021","K82.805","B16.202","E80.400","K74.606","K76.700x001","K74.100","Q44.301","K86.101","Q44.102","K80.405","K80.304","K80.401","K83.901","B69.802","K71.900x003","K74.300x007+I98.2*","D37.605","K80.504","K75.200","D37.600x004","K81.001","S36.100x081","E83.102","B01.801","K74.620+I98.2*","K82.900x001","K80.404","K83.819","S36.100x001","K71.300x001","K86.807","K83.200x001","T86.400x006","K74.600x025","K85.821","B17.102","K74.607","D13.500","B18.003","B16.200","B18.901","K74.601","B17.900x004","K92.800x012","B18.800x002","K83.016","B19.901","K74.619+I98.2*","T86.400x013","K92.800x009","K75.300x001","K86.806","K85.001","S36.102","B58.100+K77.0*","K76.900x002","K83.001","K80.505","K83.005","K71.001","A42.803","C78.800x009","K76.800x027","K86.803","B18.000","K86.103","K70.302+I98.3*","A18.301","D37.600x002","K70.001","K83.000x012","B16.905","C25.401","K86.817","I82.001","T81.800x006","B15.905","K80.502","D18.013","K86.816","Q85.911","S36.210","K83.000x007","B16.902","K82.301","K71.903+I98.3*","K75.100","K82.804","K92.800x006","K75.800x001","B15.903","K76.600x006","K83.013","K85.800x001","R93.302","K80.000x004","K86.810","Q45.300x904","B15.002","K81.101","K82.100x002","K83.006","Q44.004","Q44.703","K74.302+I98.3*","K75.000","C77.203","K71.600x002","I81.x00x003","K85.301","K76.816","T86.400x007","Q44.700x002","Q27.304","B17.100","T86.400x016","E80.600x008","K73.800x001","K74.616+I98.2*","D17.700x015","E80.600x006","B25.100+K77.0*","B05.800x003+K77.0*","B16.201","C23.x00","K85.201","K75.000x002","B18.104","B49.x00x021","C24.003","K81.004","K82.802","B25.200+K87.1*","D01.503","D37.602","K76.901","K76.804","I81.x00","T86.400x010","K80.306","D01.701","K74.500","S36.201","B17.204","B66.301","K80.300x005","K76.000","Q45.802","K86.800x015","B66.100x001+K77.0*","K71.800","K72.900x003+G94.3*","K70.304+I98.2*","K76.807","B18.107","Q44.503","B65.906+I98.3*","K74.400","K74.300x008+I98.3*","K85.803","K71.500x001","K81.000","K75.805","K76.809","K83.301","K70.900","C25.400","K83.800x012","K71.102","K75.804","K85.807","K73.901","B16.000","K86.300","S36.113","K73.900","K83.305","B17.903","K76.700x003","K86.200","Q85.912","K86.801","K74.617+I98.3*","K72.904","B18.202","B18.800x003","K80.000x002","B65.900x010+K77.0*","K83.800x023","K76.500","T86.400x015","R93.204","K83.304","K76.603","C25.300","C24.800x001","K82.800x004","A01.000x011","K83.800x009","B15.003","K83.100","D13.500x001","Q44.704","K76.001"];
    let dept_list=[];
    if (!(true && mdc_zd.includes(record.zdList[0]))){
        return '';
    }
    
    putMessage('符合MDCH入组条件，匹配规则：主诊断匹配');
    let result;

    if (result=HB1_group(record)){
        return result;
    }

    if (result=HC1_group(record)){
        return result;
    }

    if (result=HC2_group(record)){
        return result;
    }

    if (result=HC3_group(record)){
        return result;
    }

    if (result=HC4_group(record)){
        return result;
    }

    if (result=HJ1_group(record)){
        return result;
    }

    if (result=HK1_group(record)){
        return result;
    }

    if (result=HL1_group(record)){
        return result;
    }

    if (result=HL2_group(record)){
        return result;
    }

    if (false && record.ssList && intersect(SS_VALID,record.ssList)){
        putMessage('符合HQY入组条件，存在有效手术操作：'+record.ssList.filter(x=>SS_VALID.includes(x)).join(','));
        return 'HQY';
    }

    if (result=HR1_group(record)){
        return result;
    }

    if (result=HS1_group(record)){
        return result;
    }

    if (result=HS2_group(record)){
        return result;
    }

    if (result=HS3_group(record)){
        return result;
    }

    if (result=HT1_group(record)){
        return result;
    }

    if (result=HU1_group(record)){
        return result;
    }

    if (result=HZ1_group(record)){
        return result;
    }

    if (result=HZ2_group(record)){
        return result;
    }

    if (result=HZ3_group(record)){
        return result;
    }
 
    putMessage('不符合MDCA的ADRG入组条件');
}